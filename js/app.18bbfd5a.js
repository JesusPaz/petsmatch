(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/login-project/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"094b":function(e,t,n){},1099:function(e,t,n){},"49ef":function(e,t,n){"use strict";var a=n("1099"),r=n.n(a);r.a},"4e69":function(e,t,n){},"541a":function(e,t,n){"use strict";var a=n("7fdf"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("6762"),n("14c6"),n("08c1"),n("4842"),n("d9fc");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",attrs:{id:"app"}},[n("div",[n("router-view")],1)])},s=[],i={name:"App",data:function(){return{}}},o=i,c=n("2877"),l=Object(c["a"])(o,r,s,!1,null,null,null),u=l.exports,d=n("f309");a["a"].use(d["a"]);var p=new d["a"]({icons:{iconfont:"mdi"}}),m=n("8c4f"),v=n("59ca"),f=n.n(v),h=(n("ea7b"),n("66ce"),n("e71f"),n("0ff2")),b={apiKey:"AIzaSyAsM6xZCL8P0wmlhP9W1LqCKJ5pLP6Zaqc",authDomain:"tinder-pets-cc4bd.firebaseapp.com",databaseURL:"https://tinder-pets-cc4bd.firebaseio.com",projectId:"tinder-pets-cc4bd",storageBucket:"tinder-pets-cc4bd.appspot.com",messagingSenderId:"560817109626",appId:"1:560817109626:web:2870245bb71ae6dc1a59c3",measurementId:"G-0VXQCH5DHT"},w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"vue-app-color"}},[n("div",{staticClass:"form-wrapper",attrs:{id:"Login"}},[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{type:"password",label:"Password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("Login")])],1),n("br"),n("br"),n("br"),n("br"),n("br"),n("p",[e._v("You are not logged in?")]),n("br"),n("router-link",{attrs:{to:"signup"}},[e._v("Sign up")])],1)])},x=[],g=n("8aa5"),y=n.n(g),k={name:"Login",data:function(){return{email:"",password:"",valid:!1,emailRules:[function(e){return!!e||"Email is required"},function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)||"Email must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return/^([a-zA-Z0-9]{6,14})+$/.test(e)||"The password must have uppercase and a size between 6 and 14 characters"}]}},methods:{submit:function(){var e=this;y.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){localStorage.setItem("user",e.email),e.$emit("validUser",!0),e.$router.push({path:"dependencies"})}),(function(e){e.code;var t=e.message;alert(t)}))}}},D=k,_=(n("d6db"),n("6544")),R=n.n(_),V=n("7496"),$=n("8336"),I=n("4bd4"),A=n("8654"),O=Object(c["a"])(D,w,x,!1,null,null,null),E=O.exports;R()(O,{VApp:V["a"],VBtn:$["a"],VForm:I["a"],VTextField:A["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Home"}},[n("v-bottom-navigation",{model:{value:e.bottomNav,callback:function(t){e.bottomNav=t},expression:"bottomNav"}},[n("v-btn",{attrs:{value:"recent",to:"/dependencies"}},[n("span",[e._v("Dependencies")])]),n("v-btn",{attrs:{value:"favorites",to:"/users"}},[n("span",[e._v("Users")])]),n("v-btn",{attrs:{value:"favorites",to:"/",replace:""},nativeOn:{click:function(t){return e.logout()}}},[n("span",[e._v("Log Out")])])],1),n("router-view")],1)},S=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"Dependencies"}},[n("v-app",{attrs:{id:"vue-app-color"}},[n("v-form",{ref:"form",staticClass:"mb-12 mt-12",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("h3",[e._v("Create a new dependency")]),n("v-text-field",{attrs:{label:"Name",rules:e.nameRules},model:{value:e.newDependency.name,callback:function(t){e.$set(e.newDependency,"name",t)},expression:"newDependency.name"}}),n("v-select",{attrs:{items:e.userIds,label:"Coordinator"},model:{value:e.newDependency.coordinator,callback:function(t){e.$set(e.newDependency,"coordinator",t)},expression:"newDependency.coordinator"}}),n("v-text-field",{attrs:{label:"Max Number of Users",rules:e.numberRules},model:{value:e.newDependency.maxnumber,callback:function(t){e.$set(e.newDependency,"maxnumber",t)},expression:"newDependency.maxnumber"}}),n("v-text-field",{attrs:{label:"Location",rules:e.locRules},model:{value:e.newDependency.location,callback:function(t){e.$set(e.newDependency,"location",t)},expression:"newDependency.location"}}),n("v-select",{attrs:{items:e.ops,label:"Enabled"},model:{value:e.newDependency.active,callback:function(t){e.$set(e.newDependency,"active",t)},expression:"newDependency.active"}}),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.addDependency}},[e._v("Submit")])],1),n("h3",[e._v("All dependencies")]),n("v-card",{staticClass:"mt-6 mb-12"},[n("v-card-title",[n("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{search:e.search,headers:e.headers,items:e.deps,"item-key":"name","show-expand":""},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(a)}}},[e._v("delete")])]}},{key:"expanded-item",fn:function(t){var a=t.headers,r=t.item;return[n("td",{attrs:{colspan:a.length}},[e._v(e._s(r.users.toString()))])]}}])})],1)],1)],1)},C=[],T=(n("ac6a"),n("96cf"),n("3b8d")),N=(n("7f7f"),f.a.initializeApp(b).firestore()),P={name:"Dependencies",data:function(){return{valid:!1,search:"",headers:[{text:"Name",value:"name"},{text:"Coordinator",value:"coordinator"},{text:"Max Number",value:"maxnumber"},{text:"Location",value:"location"},{text:"Enabled",value:"active"},{text:"Actions",value:"action",sortable:!1},{text:"",value:"data-table-expand",sortable:!1}],ops:["True","False"],deps:[],userIds:[],newDependency:{name:"",coordinator:"",maxnumber:"",location:"",active:"",users:[]},editedIndex:-1,editedItem:{name:"",coordinator:"",maxnumber:"",location:"",active:"",users:[]},deletedItem:{name:"",coordinator:"",maxnumber:"",location:"",active:"",users:[]},defaultItem:{name:"",coordinator:"",maxnumber:"",location:"",active:"",users:[]},nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length>3||"Name must be longer than 4 chars"}],cordRules:[function(e){return!!e||"Coordinador is required"},function(e){return e.length>3||"Coordinador must be longer than 4 chars"}],locRules:[function(e){return!!e||"Location is required"},function(e){return e.length>3||"Location must be longer than 4 chars"}],numberRules:[function(e){return!!e||"Max Number is required"},function(e){return/^([0-9])+$/.test(e)||"Max Number need to be a integer"}]}},mounted:function(){this.getDeps(),this.getUserIds()},computed:{items:function(){return this.deps}},methods:{addDependency:function(){N.collection("dependencies").doc(this.newDependency.name).set(this.newDependency).then((function(){alert("Dependency successfully added!")})).catch((function(e){alert("Error writing document: ",e)})),this.newDependency.name="",this.newDependency.coordinator="",this.newDependency.maxnumber="",this.newDependency.location="",this.newDependency.active=""},getDeps:function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.collection("dependencies").get().then((function(e){e.docs.forEach((function(e){t.deps.push(e.data())}))}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getUserIds:function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.collection("users").get().then((function(e){e.docs.forEach((function(e){t.userIds.push(e.data().name)}))}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),editItem:function(e){this.editedIndex=this.deps.indexOf(e),this.newDependency=Object.assign({},e)},deleteItem:function(e){var t=this.deps.indexOf(e);this.deletedItem=Object.assign({},e),confirm("Are you sure you want to delete this item?")&&(this.deps.splice(t,1),N.collection("dependencies").doc(this.deletedItem.name).delete().then((function(){})).catch((function(e){alert("Error removing document: ",e)})))}}},z=P,L=(n("541a"),n("b0af")),q=n("99d9"),Z=n("8fea"),F=n("132d"),M=n("b974"),B=Object(c["a"])(z,j,C,!1,null,null,null),W=B.exports;R()(B,{VApp:V["a"],VBtn:$["a"],VCard:L["a"],VCardTitle:q["a"],VDataTable:Z["a"],VForm:I["a"],VIcon:F["a"],VSelect:M["a"],VTextField:A["a"]});var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"vue-app-color"}},[n("div",{attrs:{id:"Users"}},[n("v-form",{ref:"form",staticClass:"mb-12 mt-12",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("h3",[e._v("Create new User")]),n("v-text-field",{attrs:{label:"Name",rules:e.nameRules},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),n("v-text-field",{attrs:{label:"Last Name",rules:e.lastnameRules},model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname",t)},expression:"user.lastname"}}),n("v-text-field",{attrs:{label:"Email",rules:e.emailRules},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),n("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),n("v-text-field",{attrs:{label:"Final Valid Date"},model:{value:e.user.validto,callback:function(t){e.$set(e.user,"validto",t)},expression:"user.validto"}}),n("v-select",{attrs:{items:e.namedependencies,label:"Dependency"},model:{value:e.user.dependency,callback:function(t){e.$set(e.user,"dependency",t)},expression:"user.dependency"}}),n("v-select",{attrs:{items:e.ops,label:"Enabled"},model:{value:e.user.active,callback:function(t){e.$set(e.user,"active",t)},expression:"user.active"}}),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("Submit")])],1),n("div",[n("h3",[e._v("All Users")]),n("v-card",{staticClass:"mt-6 mb-12"},[n("v-card-title",[n("v-text-field",{attrs:{label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{staticClass:"elevation-1",attrs:{search:e.search,headers:e.headers,items:e.deps,"sort-by":"name"},scopedSlots:e._u([{key:"top",fn:function(){},proxy:!0},{key:"item.action",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editUser(a)}}},[e._v("edit")]),n("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteUser(a)}}},[e._v("delete")])]}}])})],1)],1)],1)])},J=[],G=(N.collection("users"),{name:"Users",data:function(){return{valid:!1,deps:[],namedependencies:[],ops:["True","False"],search:"",headers:[{text:"Name",value:"name"},{text:"Lastname",value:"lastname"},{text:"Email",value:"email"},{text:"Password",value:"password"},{text:"Valid To",value:"validto"},{text:"Dependency",value:"dependency"},{text:"Active",value:"active"},{text:"Actions",value:"action",sortable:!1}],user:{name:"",lastname:"",email:"",password:"",validto:"",dependency:"",active:""},nameRules:[function(e){return!!e||"User Name is required"},function(e){return e.length>4||"User Name must be longer than 4 chars"}],lastnameRules:[function(e){return!!e||"User Lastname is required"},function(e){return e.length>4||"User Lastname must be longer than 4 chars"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return/^([a-zA-Z0-9]{6,14})+$/.test(e)||"The password must have uppercase and a size between 6 and 14 characters"}],emailRules:[function(e){return!!e},function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,24}))$/.test(e)||"Write a correct email"}]}},mounted:function(){this.getDeps(),this.getDepeIds()},computed:{items:function(){return this.deps}},methods:{submit:function(){N.collection("users").doc(this.user.email).set(this.user);var e=N.collection("dependencies").doc(this.user.dependency);e.update({users:y.a.firestore.FieldValue.arrayUnion(this.user.name)}),alert("Usuario registrado correctamente"),this.user.name="",this.user.lastname="",this.user.email="",this.user.password="",this.user.validto="",this.user.dependency="",this.user.active="",console.log(this.users)},editUser:function(e){this.user.name=e.name,this.user.lastname=e.lastname,this.user.email=e.email,this.user.password=e.password,this.user.validto=e.validto,this.user.dependency=e.dependency,this.user.active=e.active,console.log(this.users)},deleteUser:function(e){confirm("Are you sure you want to delete this item?")&&N.collection("users").doc(e.email).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){alert("Error removing document: ",e)}))},getDeps:function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.collection("users").get().then((function(e){e.docs.forEach((function(e){t.deps.push(e.data())}))}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),getDepeIds:function(){var e=Object(T["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N.collection("dependencies").get().then((function(e){e.docs.forEach((function(e){t.namedependencies.push(e.data().name)}))}));case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}}),K=G,Q=(n("49ef"),Object(c["a"])(K,H,J,!1,null,null,null)),X=Q.exports;R()(Q,{VApp:V["a"],VBtn:$["a"],VCard:L["a"],VCardTitle:q["a"],VDataTable:Z["a"],VForm:I["a"],VIcon:F["a"],VSelect:M["a"],VTextField:A["a"]});var Y={name:"Home",components:{Users:X,Dependencies:W},data:function(){return{bottomNav:"recent"}},methods:{logout:function(){var e=this;y.a.auth().signOut().then((function(t){localStorage.removeItem("user"),e.$emit("validUser",!1),e.$router.push({path:"login"})}),(function(e){var t=e.message;alert(t)}))}}},ee=Y,te=(n("cccb"),n("b81c")),ne=Object(c["a"])(ee,U,S,!1,null,null,null),ae=ne.exports;R()(ne,{VBottomNavigation:te["a"],VBtn:$["a"]});var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"vue-app-color"}},[n("div",{attrs:{id:"Signup"}},[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Email",rules:e.emailRules},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("v-text-field",{attrs:{label:"Type password",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-text-field",{attrs:{label:"Write again your password",type:"password",rules:e.passwordRules},model:{value:e.reenterpassword,callback:function(t){e.reenterpassword=t},expression:"reenterpassword"}}),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("Sign up")])],1),n("br"),n("br"),n("br"),n("br"),n("br"),n("p",[e._v("\n      Go back to\n      "),n("router-link",{attrs:{to:"/home"}},[e._v("Login")])],1)],1)])},se=[],ie={name:"Signup",data:function(){return{email:"",password:"",reenterpassword:"",valid:!1,emailRules:[function(e){return!!e||"Email is required"},function(e){return/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)||"Email must be valid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return/^([a-zA-Z0-9]{6,14})+$/.test(e)||"The password must have uppercase and a size between 6 and 14 characters"}]}},methods:{submit:function(){var e=this;this.password==this.reenterpassword?y.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(t){localStorage.setItem("user",e.email),e.$emit("validUser",!0),e.$router.push({path:"home"})}),(function(e){e.code;var t=e.message;alert(t)})):alert("The passwords does not match")}}},oe=ie,ce=(n("e42b"),Object(c["a"])(oe,re,se,!1,null,null,null)),le=ce.exports;R()(ce,{VApp:V["a"],VBtn:$["a"],VForm:I["a"],VTextField:A["a"]}),a["a"].use(m["a"]),a["a"].use(h["a"]),a["a"].config.productionTip=!1;var ue=[{path:"/",component:E},{path:"/home",component:ae,children:[{path:"/users",component:X},{path:"/dependencies",component:W}]},{path:"/signup",component:le},{path:"*",redirect:"/"}],de=new m["a"]({routes:ue});de.beforeEach((function(e,t,n){var a=["/","/register","/signup"],r=localStorage.getItem("user"),s=!a.includes(e.path);!r&&s?n("/"):!s&&r?n("/dependencies"):n()})),f.a.apps.length||f.a.initializeApp(b),new a["a"]({el:"#app",vuetify:p,router:de,data:{validUser:!0},render:function(e){return e(u)}}).$mount("#app")},"5f0a":function(e,t,n){},"7fdf":function(e,t,n){},cccb:function(e,t,n){"use strict";var a=n("4e69"),r=n.n(a);r.a},d6db:function(e,t,n){"use strict";var a=n("5f0a"),r=n.n(a);r.a},e42b:function(e,t,n){"use strict";var a=n("094b"),r=n.n(a);r.a}});
//# sourceMappingURL=app.18bbfd5a.js.map